<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Dream_livereload (dream-livereload.Dream_livereload)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 1.5.2"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div class="content"><header><nav><a href="../index.html">Up</a> â€“ <a href="../index.html">dream-livereload</a> &#x00BB; Dream_livereload</nav><h1>Module <code>Dream_livereload</code></h1><p>Dream Livereload implements live reloading for Dream applications.</p><p>It works by injecting a script in the HTML pages sent to clients that will initiate a WebSocket.</p><p>When the server restarts, the WebSocket connection is lost, at which point, the client will try to reconnect every 500ms for 5s. If within these 5s the client is able to reconnect to the server, it will trigger a reload of the page.</p></header><dl><dt class="spec value" id="val-default_script"><a href="#val-default_script" class="anchor"></a><code><span class="keyword">val</span> default_script : <span>?&#8288;retry_interval_ms:int</span> <span>&#45;&gt;</span> <span>?&#8288;max_retry_ms:int</span> <span>&#45;&gt;</span> <span>?&#8288;route:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> string</code></dt><dd><p>Default live reloading script used if no custom script is provided.</p><p><code>retry_interval_ms</code> defaults to defaults to 500ms, <code>max_retry_ms</code> defaults to 5000ms and the default <code>route</code> is <code>&quot;/_livereload&quot;</code>.</p></dd></dl><dl><dt class="spec value" id="val-inject_script"><a href="#val-inject_script" class="anchor"></a><code><span class="keyword">val</span> inject_script : <span>?&#8288;script:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Dream.middleware</code></dt><dd><p>A middleware that injects the live reloading script in an HTML document.</p></dd></dl><dl><dt class="spec value" id="val-route"><a href="#val-route" class="anchor"></a><code><span class="keyword">val</span> route : <span>?&#8288;path:string</span> <span>&#45;&gt;</span> unit <span>&#45;&gt;</span> Dream.route</code></dt><dd><p>The route for the live reloading endpoint.</p><p><code>path</code> defaults to <code>&quot;/_livereload&quot;</code>. Make sure this is the same as the endpoint of the WebSocket if you provided a custom script to <code>inject_script</code>.</p></dd></dl><dl><dt class="spec value" id="val-router"><a href="#val-router" class="anchor"></a><code><span class="keyword">val</span> router : Dream.middleware</code></dt><dd><p>A Dream router that contains <code>route</code>.</p></dd></dl><dl><dt class="spec value" id="val-scope"><a href="#val-scope" class="anchor"></a><code><span class="keyword">val</span> scope : string <span>&#45;&gt;</span> <span>Dream.middleware list</span> <span>&#45;&gt;</span> Dream.route</code></dt><dd><p>Helper function to scope the live reloading routes with a prefix and a list of middlewares.</p></dd></dl></div></body></html>